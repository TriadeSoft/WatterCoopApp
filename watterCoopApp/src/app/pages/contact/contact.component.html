<div class="contact-page">
  <!-- Header de la página -->
  <div class="hero-section">
    <div class="container">
      <h1>Contáctanos</h1>
      <p class="subtitle">Estamos aquí para ayudarte con todos los servicios de agua potable</p>
    </div>
  </div>

  <div class="container">
    <!-- Mensaje de éxito -->
    <div *ngIf="isSent" class="success-message">
      <div class="success-icon">
        <i class="pi pi-check-circle"></i>
      </div>
      <div class="success-content">
        <h3>¡Mensaje Enviado Exitosamente!</h3>
        <p>Hemos recibido tu consulta y nos pondremos en contacto contigo pronto.</p>
      </div>
    </div>

    <!-- Información principal de contacto -->
    <div class="contact-info-section">
      <div class="row">
        <!-- Información de la cooperativa -->
        <div class="col-md-6">
          <p-card header="Información de la Cooperativa" styleClass="info-card">
            <div class="coop-info">
              <h3>{{ cooperativaInfo.nombre }}</h3>
              <p class="description">
                Somos una cooperativa comprometida con brindar agua potable de calidad
                a la comunidad de Las Malvinas, San Rafael, Mendoza.
              </p>

              <div class="contact-details">
                <div class="contact-item">
                  <i class="pi pi-map-marker"></i>
                  <div>
                    <strong>Dirección:</strong>
                    <p>{{ cooperativaInfo.direccion }}</p>
                  </div>
                </div>

                <div class="contact-item">
                  <i class="pi pi-phone"></i>
                  <div>
                    <strong>Teléfono:</strong>
                    <p>{{ cooperativaInfo.telefono }}</p>
                  </div>
                </div>

                <div class="contact-item">
                  <i class="pi pi-envelope"></i>
                  <div>
                    <strong>Email:</strong>
                    <p>{{ cooperativaInfo.email }}</p>
                  </div>
                </div>
              </div>

              <div class="action-buttons">
                <p-button
                  label="Ver en Google Maps"
                  icon="pi pi-map"
                  (onClick)="openMap()"
                  styleClass="p-button-outlined">
                </p-button>

                <p-button
                  label="Enviar Email"
                  icon="pi pi-envelope"
                  (onClick)="openEmail()"
                  styleClass="p-button-outlined">
                </p-button>
              </div>
            </div>
          </p-card>
        </div>

        <!-- Horarios y emergencias -->
        <div class="col-md-6">
          <p-card header="Horarios de Atención" styleClass="info-card">
            <div class="schedule-info">
              <div class="schedule-item">
                <i class="pi pi-calendar"></i>
                <div>
                  <strong>Lunes a Viernes:</strong>
                  <p>{{ cooperativaInfo.horarios.lunesViernes }}</p>
                </div>
              </div>

              <div class="schedule-item">
                <i class="pi pi-calendar"></i>
                <div>
                  <strong>Sábados:</strong>
                  <p>{{ cooperativaInfo.horarios.sabado }}</p>
                </div>
              </div>

              <div class="schedule-item">
                <i class="pi pi-calendar"></i>
                <div>
                  <strong>Domingos:</strong>
                  <p>{{ cooperativaInfo.horarios.domingo }}</p>
                </div>
              </div>
            </div>

            <p-divider></p-divider>

            <div class="emergency-info">
              <h4><i class="pi pi-exclamation-triangle"></i> Emergencias 24/7</h4>
              <p>Para reportar fugas, cortes de servicio o problemas urgentes:</p>
              <div class="emergency-contact">
                <p-button
                  [label]="cooperativaInfo.emergencia"
                  icon="pi pi-phone"
                  styleClass="p-button-danger">
                </p-button>

                <p-button
                  label="WhatsApp"
                  icon="pi pi-whatsapp"
                  (onClick)="openWhatsApp()"
                  styleClass="p-button-success">
                </p-button>
              </div>
            </div>
          </p-card>
        </div>
      </div>
    </div>

    <!-- Formulario de contacto -->
    <div class="contact-form-section" *ngIf="!isSent">
      <p-card header="Envíanos tu Consulta" styleClass="form-card">
        <form class="contact-form" (submit)="onSubmit($event)">
          <input type="hidden" name="title" value="Consulta desde la página de contacto">
          <input type="hidden" name="time" [value]="getCurrentTime()">

          <div class="form-group">
            <label for="name">Nombre Completo *</label>
            <input
              id="name"
              name="name"
              type="text"
              pInputText
              placeholder="Tu nombre completo"
              required />
          </div>

          <div class="form-group">
            <label for="email">Correo Electrónico *</label>
            <input
              id="email"
              name="email"
              type="email"
              pInputText
              placeholder="tu@email.com"
              required />
          </div>

          <div class="form-group">
            <label for="message">Mensaje *</label>
            <textarea
              id="message"
              name="message"
              rows="5"
              pInputTextarea
              placeholder="Describe tu consulta o solicitud aquí..."
              required></textarea>
          </div>

          <div class="form-actions">
            <p-button
              type="submit"
              label="Enviar Consulta"
              icon="pi pi-send"
              [loading]="isLoading"
              styleClass="p-button-primary">
            </p-button>
          </div>
        </form>
      </p-card>
    </div>

    <!-- Preguntas frecuentes -->
    <div class="faq-section">
      <p-card header="Preguntas Frecuentes" styleClass="faq-card">
        <div class="faq-list">
          <div class="faq-item" *ngFor="let faq of faqs; let i = index">
            <div class="faq-question" (click)="toggleFaq(i)">
              <h4>{{ faq.pregunta }}</h4>
              <i class="pi" [class.pi-chevron-down]="!faq.expanded" [class.pi-chevron-up]="faq.expanded"></i>
            </div>
            <div class="faq-answer" [class.expanded]="faq.expanded">
              <p>{{ faq.respuesta }}</p>
            </div>
          </div>
        </div>
      </p-card>
    </div>

    <!-- Información adicional -->
    <div class="additional-info">
      <div class="row">
        <div class="col-md-4">
          <p-card styleClass="info-card-small">
            <div class="info-item">
              <i class="pi pi-shield"></i>
              <h4>Calidad Garantizada</h4>
              <p>Nuestro agua cumple con todos los estándares de calidad establecidos por las autoridades sanitarias.</p>
            </div>
          </p-card>
        </div>

        <div class="col-md-4">
          <p-card styleClass="info-card-small">
            <div class="info-item">
              <i class="pi pi-users"></i>
              <h4>Atención Personalizada</h4>
              <p>Brindamos atención personalizada a cada socio, entendiendo sus necesidades específicas.</p>
            </div>
          </p-card>
        </div>

        <div class="col-md-4">
          <p-card styleClass="info-card-small">
            <div class="info-item">
              <i class="pi pi-clock"></i>
              <h4>Respuesta Rápida</h4>
              <p>Nos comprometemos a responder todas las consultas en un plazo máximo de 24 horas.</p>
            </div>
          </p-card>
        </div>
      </div>
    </div>
  </div>
</div>
